# Стратегия rogue-like [![Build Status](https://travis-ci.com/terentyevalexey/TP_Project.svg?branch=master)](https://travis-ci.com/terentyevalexey/TP_Project)
Предположительно, игра будет чем-то похожей на The Binding of Isaac, 
но так как делать такое долго, то она будет обрубком (предположительно нелохим).

На текущий момент игра представляет собой бродилку по комнатам подземалья,
при этом на главного героя охотятся враги

## Управление
* Меню:
  * W S для перехода по кнопкам
  * &uarr; &darr; для перехода по кнопкам
  * `Enter` для подтверждения
  * ЛКМ
* Игра:
  * W A S D
  * &uarr; &larr; &darr; &rarr; 

### Паттерны

#### Порождающие
Были использованы паттерны `singleton`, `abstract method`.

* `Singleton` использован, так как есть всего 1 главный персонаж.

* `Abstract method` был использован, так как есть множество врагов, для каждого
из них нужно своё создание

#### Структурные

* `Composite` использован в game.Doors, game.EnemyArmy, game.World: Во всех
 этих классах нам нужны объекты для удобного доступа к подобъектам 
 
* `Adapter` использован в image.Image для изменения картинок формата jpg, png
в понятные объекты (объект класса Image). С объектом, в отличие от файла
картинки, мы можем взаимодействовать, да и подгружаем файл всего 1 раз

* `Decorator` logger_decorator для логирования информации по конкретным 
функциям: мы хотим проводить юзабилити тесты. Так же singleton.Singleton 
для динамического создания синглтонов (вдруг, мы захотим их синглплеера 
сделать мультиплеер или наоборот; или сделать 2 параллельных мира и запустить
их в одном окне)

* `Facade` (?) EventHandler и все отнаследованные обработчики

* `Bridge` (?) методы draw, has, завязанные на движке (вроде, в другой логике
они не участвуют, значит изменять нужно только их имплементацию (может, ещё 
немного в main)) 

#### Поведенческие

* `Command` в обработчиках (EventHandler) предоставлена возможность обработки
запросов и выполнения определенных функций, отделяющая логику от интерфейса. 
Можно управлять меню кнопками wasd, стрелочками и мышкой, при этом будут
вызваны одни и те же функции. Игрок может управлять героем с помощью WASD и 
стрелочек

* `Chain of responsibility` в методах update и draw (мы не можем сказать, что
точно будет лежать в объекте мир, поэтому делегирует комнате, которая
делегирует её частям запросы)

* `Observer` НЕ БЫЛ ПРИМЕНЁН, так как логика мира построеная на текущих
состояниях, от которых и зависит обработка событий, поэтому Observer
не нужен за счёт отсутствия объектов, на которые можно подписаться

* `Strategy` для Main.event_loop можно добавлять разные EventHandler для, 
к примеру, создания меню опций

#### Юнит тесты
Запусктить тесты для проверки, создаются ли вражеские герои:
```
python3 -m unittest test_factory.py
```

